## Ch 8 경계

우리는 프로그램을 만들다보면 외부의 프로그램을 사용하는 경우가 많다. 이때 외부의 프로그램과 내부의 프로그램의 경계에 대해서 인지하고 깔끔하게 통합하려는 노력을 해야한다.



예를 들어서 생각해보면 외부 프로그램에서 Map 이라는 클래스가 있다고 하자. 만약 해당 클래스가 기능이 많다면 모든 기능을 찾아보면서 사용을 하지는 않을 것이다. 이때 해당 클래스를 다른곳에 계속해서 넘긴다면 예상치 못한 기능으로 인해서 문제가 생길 가능성이 있다. 또한 업데이트를 통해서 기능이 변경된 경우 또한 얼마나 사용했냐에 따라서 문제가 생길 여지가 다분하다.



이런 경우들을 생각해서 Wrapper 클래스를 사용하는 것이 좋다. Wrapper 클래스에서 내가 필요한 만큼만 일단 정의를 한 다음 해당 클래스를 사용하게 된다면, 예상치 못한 일들이 벌어질 가능성이 낮으며 발생하더라도 멀리 퍼져있지 않기 때문에 쉽게 고칠 수 있을 것이다. 이는 버전이 변경되면서 인터페이스 자체가 변경이 되더라도 동일하다. 쉽게 변경할 수 있다는 장점이 있다.



외부의 프로그램을 사용할 때 사실 테스트가 잘 마무리 되어서 사용자들이 사용하는데 무리가 없는 것이 가장 좋다. 하지만 외부 프로그램의 코드가 수정되면서 내가 사용하는 부분에 예상치 못한 버그가 생길 수 있다. 이런 경우는 어떻게 해야할까? 외부의 프로그램을 사용하는 경우는 아무래도 학습비용이 들 수 밖에 없다. 이런 두가지 부분을 한번에 해결할 수 있는 방법이 학습 테스트라는 방법이다.



이 방법은 외부프로그램을 사용할 때 내가 사용하는 부분만 테스트를 진행하는 것이다. 테스트를 통해서 내가 사용할 부분들을 미리 익힐 수 있으며, 혹여나 외부 코드의 오류가 생기더라도 쉽게 파악할 수 있을 것이다. 특히나 버전이 변경되는 경우 테스트가 없다면 사실 굉장히 민감하게 접근해야 하지만, 학습테스트를 한 경우에는 큰 부담없이 사용할 수 있을 것이다.



통제가 불가능한 외부 프로그램에 의존하는 대신에 통제 가능한 우리 코드에 의존시켜 프로그램을 작성하는 것이 가장 바람직하다.